var e=Object.defineProperty,d=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(d,o,t)=>o in d?e(d,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[o]=t,n=(e,n)=>{for(var i in n||(n={}))o.call(n,i)&&r(e,i,n[i]);if(d)for(var i of d(n))t.call(n,i)&&r(e,i,n[i]);return e};function i(e=[]){return{trackEvent:(d,o={})=>{e.push(n({event:a(d)},o))},trackPageView:(d,o={})=>{e.push(n({pageCategory:a(d)},o))}}}const a=e=>[e].flat().join(" / "),s=e=>{const{prefix:d=[],track:o,stickyContext:t}=e;return e=>{const{name:r,requiredContext:n=[],optionalContext:i=[]}=e,a=[d,r].flat();return Object.assign(((e={})=>{o(a,((e,d={},o=[],t=[])=>{const r={};return o.forEach((o=>{const t=d[o]||e[o];if(void 0===t)throw new Error("Required context missing: "+o);r[o]=t})),t.forEach((o=>{r[o]=d[o]||e[o]})),r})(t,e,n,i))}),{recordingName:a,requiredContext:n,optionalContext:i})}},c=e=>{const{Page:d,Event:o}=(e=>{const{prefix:d,provider:{trackPageView:o,trackEvent:t},stickyContext:r={}}=e;return{Page:s({prefix:d,stickyContext:r,track:o}),Event:s({prefix:d,stickyContext:r,track:t})}})({provider:e,prefix:"Web App"});return{pages:{home:d({name:"Home"}),auth:d({name:"Auth"}),payment:d({name:"Payment",requiredContext:["userId"]})},events:{auth:{signedUp:o({name:["Auth","Signed Up"],requiredContext:["userId"]}),loggedIn:o({name:["Auth","Logged In"],requiredContext:["userId"]}),loggedOut:o({name:["Auth","Logged Out"],requiredContext:["userId"]}),canceled:o({name:["Auth","Canceled"]}),required:o({name:["Auth","Required"],requiredContext:["episodeId"]})},payment:{required:o({name:["Payment","Required"],requiredContext:["userId"]}),completed:o({name:["Payment","Completed"],requiredContext:["userId"]})},episode:{detailsViewed:o({name:["Episode","Details Viewed"],requiredContext:["episodeId"],optionalContext:["userId"]})},room:{created:o({name:["Room","Created"],requiredContext:["roomId","episodeId","userId"]}),exited:o({name:["Room","Exited"],requiredContext:["roomId","episodeId","userId"]}),backToAllEpisodes:o({name:["Room","Back to All Episodes"],requiredContext:["roomId","episodeId","userId"]}),joined:o({name:["Room","Joined"],requiredContext:["roomId","episodeId","deviceId","playerId"]})},device:{connected:o({name:["Device","Connected"],requiredContext:["roomId","episodeId","deviceId"]}),disconnected:o({name:["Device","Disconnected"],requiredContext:["roomId","episodeId","deviceId"]})},scene:{started:o({name:["Scene","Started"],requiredContext:["sceneId","roomId","episodeId"]}),completed:o({name:["Scene","Completed"],requiredContext:["sceneId","roomId","episodeId"]}),skipped:o({name:["Scene","Skipped"],requiredContext:["sceneId","roomId","episodeId"]}),video:{segmentStarted:o({name:["Scene","Video","Segment Started"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),segmentCompleted:o({name:["Scene","Video","Segment Completed"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),autoplayPrevented:o({name:["Scene","Video","Autoplay Prevented"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),paused:o({name:["Scene","Video","Paused"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),played:o({name:["Scene","Video","Played"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),looped:o({name:["Scene","Video","Looped"],requiredContext:["roomId","episodeId","sceneId","videoId"]})},prompt:{answered:o({name:["Scene","Prompt","Answered"],requiredContext:["roomId","episodeId","sceneId","answer","playerId","deviceId"]})},multipleChoice:{answered:o({name:["Scene","Multiple Choice","Answered"],requiredContext:["roomId","episodeId","sceneId","answer","playerId","deviceId"]})},buttonPrompt:{pressed:o({name:["Scene","Button Prompt","Pressed"],requiredContext:["roomId","episodeId","sceneId","playerId","deviceId"]})},timer:{started:o({name:["Scene","Timer","Started"],requiredContext:["roomId","episodeId","sceneId"]}),ended:o({name:["Scene","Timer","Ended"],requiredContext:["roomId","episodeId","sceneId"]})}}}}},m=e=>{const d=i(e);return{app:c(d)}};export{i as TagManagerProvider,c as createAppAnalyticsRecorder,m as createTagManagerRecorder};
