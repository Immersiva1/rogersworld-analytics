var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,o,t)=>o in e?__defProp(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,__spreadValues=(e,o)=>{for(var t in o||(o={}))__hasOwnProp.call(o,t)&&__defNormalProp(e,t,o[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(o))__propIsEnum.call(o,t)&&__defNormalProp(e,t,o[t]);return e},__spreadProps=(e,o)=>__defProps(e,__getOwnPropDescs(o));!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self).RogersWorldAnalytics={})}(this,(function(e){"use strict";const o=e=>{const{prefix:o=[],track:t,stickyContext:r}=e;return e=>{const{name:d,requiredContext:n=[],optionalContext:i=[]}=e,a=[o,d].flat();return Object.assign(((e={})=>{const o=((e,o={},t=[],r=[])=>{const d={};return t.forEach((t=>{var r;const n=null!=(r=o[t])?r:e[t];if(void 0===n)throw new Error("Required context missing: "+t);d[t]=n})),r.forEach((t=>{var r;d[t]=null!=(r=o[t])?r:e[t]})),d})(r,e,n,i);t(a,o)}),{recordingName:a,requiredContext:n,optionalContext:i})}},t=["userId","userEmail","userName"],r=e=>{const{Page:r,Event:d,saveContext:n}=(e=>{const{prefix:t,provider:{trackPageView:r,trackEvent:d},stickyContext:n={}}=e;return{saveContext:e=>Object.assign(n,e),Page:o({prefix:t,stickyContext:n,track:r}),Event:o({prefix:t,stickyContext:n,track:d})}})({provider:e,prefix:"Web App"});return{saveContext:n,pages:{home:r({name:"Home"}),auth:r({name:"Auth"}),payment:r({name:"Payment",requiredContext:t})},events:{auth:{signedUp:d({name:["Auth","Signed Up"],requiredContext:t}),loggedIn:d({name:["Auth","Logged In"],requiredContext:t}),loggedOut:d({name:["Auth","Logged Out"],requiredContext:t}),canceled:d({name:["Auth","Canceled"]}),required:d({name:["Auth","Required"],requiredContext:["episodeId"]})},payment:{required:d({name:["Payment","Required"],requiredContext:t}),completed:d({name:["Payment","Completed"],requiredContext:t})},episode:{detailsViewed:d({name:["Episode","Details Viewed"],requiredContext:["episodeId"],optionalContext:t})},device:{connected:d({name:["Device","Connected"],requiredContext:["roomId","episodeId","deviceId"]}),disconnected:d({name:["Device","Disconnected"],requiredContext:["roomId","episodeId","deviceId"]})},room:{created:d({name:["Room","Created"],requiredContext:["roomId","episodeId",...t]}),exited:d({name:["Room","Exited"],requiredContext:["roomId","episodeId",...t]}),backToAllEpisodes:d({name:["Room","Back to All Episodes"],requiredContext:["roomId","episodeId",...t]}),joined:d({name:["Room","Joined"],requiredContext:["roomId","episodeId","deviceId","playerId"],optionalContext:["playerAge"]}),episodeStarted:d({name:["Room","Episode Started"],requiredContext:["roomId","episodeId",...t]}),episodeCompleted:d({name:["Room","Episode Completed"],requiredContext:["roomId","episodeId",...t]})},scene:{started:d({name:["Scene","Started"],requiredContext:["sceneId","roomId","episodeId",...t]}),completed:d({name:["Scene","Completed"],requiredContext:["sceneId","roomId","episodeId",...t]}),skipped:d({name:["Scene","Skipped"],requiredContext:["sceneId","roomId","episodeId",...t]}),video:{segmentStarted:d({name:["Scene","Video","Segment Started"],requiredContext:["roomId","episodeId","sceneId","videoId","timestamp",...t]}),segmentCompleted:d({name:["Scene","Video","Segment Completed"],requiredContext:["roomId","episodeId","sceneId","videoId","timestamp",...t]}),autoplayPrevented:d({name:["Scene","Video","Autoplay Prevented"],requiredContext:["roomId","episodeId","sceneId","videoId"]}),paused:d({name:["Scene","Video","Paused"],requiredContext:["roomId","episodeId","sceneId","videoId","timestamp"]}),resumed:d({name:["Scene","Video","Resumed"],requiredContext:["roomId","episodeId","sceneId","sceneIndex","scenesRemaining","sceneProgress","videoId","timestamp"]}),looped:d({name:["Scene","Video","Looped"],requiredContext:["roomId","episodeId","sceneId","videoId"]})},prompt:{answered:d({name:["Scene","Prompt","Answered"],requiredContext:["roomId","episodeId","sceneId","answer","playerId","deviceId","asGroup"]})},multipleChoice:{answered:d({name:["Scene","Multiple Choice","Answered"],requiredContext:["roomId","episodeId","sceneId","answer","playerId","deviceId","asGroup"]})},buttonPrompt:{pressed:d({name:["Scene","Button Prompt","Pressed"],requiredContext:["roomId","episodeId","sceneId","playerId","deviceId","asGroup"]})},timer:{started:d({name:["Scene","Timer","Started"],requiredContext:["roomId","episodeId","sceneId"]}),ended:d({name:["Scene","Timer","Ended"],requiredContext:["roomId","episodeId","sceneId"]})}}}}};function d(e=[]){return{trackEvent:(o,t={})=>{e.push(__spreadValues({event:n(o)},t))},trackPageView:(o,t={})=>{e.push(__spreadValues({pageCategory:n(o)},t))}}}const n=e=>[e].flat().join(" / "),i=e=>{const o=__spreadProps(__spreadValues({},e),{email:e.userEmail});return __spreadProps(__spreadValues({},o),{acValue:JSON.stringify(o)})},a=()=>globalThis.analytics;function s(){let e=!1;return{trackEvent:(o,t={})=>{const r=a();t.userId&&!e&&(r.identify(t.userId,{email:t.userEmail,name:t.userName}),e=!0),r.track([o].flat().join(" _ "),i(t))},trackPageView:(e,o={})=>{const t=a(),r=[e].flat();t.page(r.slice(0,-1).join(" _ "),r.slice().pop(),i(o))}}}e.createSegmentProvider=s,e.createSegmentRecorder=()=>({app:r(s())}),e.createTagManagerProvider=d,e.createTagManagerRecorder=e=>{const o=d(e);return{app:r(o)}},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
//# sourceMappingURL=analytics.umd.js.map
